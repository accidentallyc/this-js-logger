!function(){function o(o){var e=g[o];return function(t,r,n){if(!(f<d[o])){void 0==n&&(n=!0);var l=(new Date).toLocaleString(),i=(new Error).stack.substring(6);if(r){var g="%c"+o+" %c"+t+" -- "+l;console.log(g,e.header,e.body,r),console.log("%c"+i,e.body)}else{var s="%c"+o+" %c"+t+" -- "+l+"\n"+i;console.log(s,e.header,e.body)}n&&c.transaction(function(e){var n=o+" : "+t+" -- "+l;r&&(n+=" "+JSON.stringify(r)),n+="\r\n"+i,e.executeSql("INSERT INTO "+a+" (log) VALUES (?)",[n])})}}}function e(){c.transaction(function(o){o.executeSql("SELECT log FROM "+a,[],function(o,e){var t,r=[],n=e.rows.length;for(t=0;n>t;t++)r.push(e.rows.item(t).log+"\r\n");var a=document.createElement("a"),i=new Blob(r,{type:"application/octet-stream"});a.href=window.URL.createObjectURL(i),a.download=l+(new Date).toUTCString()+".txt",a.click()})})}function t(){c.transaction(function(o){o.executeSql("DELETE FROM "+a),log.info("Cleared logs",null,!1)})}var r="0.1",n=document.currentScript,l=n.getAttribute("logger-file-prefix");l||(l="thisJs-logger"),l+=" - ";var a=n.getAttribute("logger-db");a||(a="thisJs_logger");var i=n.getAttribute("logger-db-descp");i||(i="thisJs-logger logs table");var c=openDatabase(a,"1.0",i,512);c.transaction(function(o){o.executeSql("CREATE TABLE IF NOT EXISTS "+a+" (log TEXT)")});var g={ERROR:{header:"font-weight:bold;color:red;",body:"font-weight:normal;color:red;"},WARN:{header:"font-weight:bold;color:darkred;",body:"font-weight:normal;color:darkred;"},INFO:{header:"font-weight:bold;",body:"font-weight:normal;"},DEBUG:{header:"font-weight:bold;color:#01014C;",body:"font-weight:normal;color:#01014C;"},TRACE:{header:"font-weight:bold;color:#054C05;",body:"font-weight:normal;color:#054C05;"}},d={ERROR:1,WARN:2,INFO:3,DEBUG:4,TRACE:5},f=n.getAttribute("logger-level");f=void 0==f?d.TRACE:d[f.toUpperCase()],window.log={error:o("ERROR"),warn:o("WARN"),info:o("INFO"),debug:o("DEBUG"),trace:o("TRACE"),download:e,clear:t},log.trace("RUNNING thisJs-logger v"+r)}();